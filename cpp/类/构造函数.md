# 构造函数

## 1. 构造函数的特性

- 构造函数是初始化类对象的数据成员，只要类对象被创建，就会执行构造函数。

- 构造函数不能被声明成const。

- 构造函数的名字与类名相同，没有返回值。

- 构造函数可以是另一个类的友元函数。

---

## 2. 构造函数的分类

### （1）默认构造函数

*默认构造函数是没有参数或者参数都有默认值的构造函数。*

*即我们在调用时不需要填写任何参数。*

<br>

#### 合成的默认构造函数

- 如果我们的类没有显式地定义构造函数，那么编译器就会为我们隐式地定义一个默认构造函数。

- 类成员值为类内初始值或者未定义的值。

```cpp
class A
{
public:
    int a=1;//类内初始值
    int b;//未定义的值
};
```

#### 自定义的默认构造函数

- 没有参数或者参数都有默认值的构造函数。

```cpp
class A
{
public:
    A(int a=1,int b=2):a(a),b(b){}
    int a;
    int b;
};
```

### （2）拷贝构造函数（复制构造函数）

*拷贝构造函数是用来初始化一个对象，使其与另一个对象的值相同。*

*即我们在调用时需要填写一个参数，这个参数是一个对象。*

<br>

#### 合成的拷贝构造函数

- 这个函数将一个对象的每个非static成员变量的值拷贝到新对象中。

```cpp
//拷贝a和b的值
class A
{
public:
    int a;
    int b;
};
```

<br>

#### 自定义的拷贝构造函数

- 有一个参数，这个参数是一个对象。

- 如何拷贝由自己定义。

```cpp
class A
{
public:
    A(int a=1,int b=2):a(a),b(b){
        p=new int[50];
    }
    A(const A& a):a(a.a),b(a.b){
        p=new int[50];
        for(int i=0;i<50;i++){
            p[i]=a.p[i];
        }
    }
    int a;
    int b;
    int *p;
};
```

### （3）转换构造函数

*转换构造函数是用来将其他类型的值转换为该类的对象。*

*即我们在调用时需要填写一个参数，这个参数是一个其他类型的值。*

<br>

```cpp
class A
{
public:
    A(int key):a(key),b(key+1){}
    int a;
    int b;
};
```

### （4）一般的构造函数

*随便自己怎么定义啦。*
